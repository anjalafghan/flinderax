
# Credit Card Balance App


Problem Statement: When on a strict budget, it’s difficult to keep track of your spendings when your money is in the bank but you have paid for it via your credit card. This app allows you to move that money from account A to account B, letting you be clear how much money you actually have for spending. This also allows you to be disciplined in your spendings

Overall UI
A login page -> User dashboard with available cards -> User selects a card and inputs the amount and enters the amount pending -> Gets the amount he needs to transfer to another account.

Architecture
Axum - Backend
Frontend - TBD (Will be done at the end)
Sqlite - DB


Login via JWT (once the project is done it will be migrated to PASETO


API Architecture

Login APIs

| API            | 200 Response |
|----------------|--------------|
| /login/login   | JWT token    |
| /login/create/ | None         |
| /login/read/   | None         |
| /login/update/ | None         |
| /login/delete/ | None         |

Credit Card APIs

| API           | 200 Response                                                 |
|---------------|--------------------------------------------------------------|
| /card/create/ | None                                                         |
| /card/read/   | {<br>“card_id” : 123,<br>“card_name” :”name”,<br>card_bank:hdfc,<br><br>} |
| /card/update  | None                                                         |
| /card/delete  | None                                                         |
| /card/all     | {<br>“card_1”: {},<br>“card_2”:{}<br>}                       |

DATABASE Tables Struct

users

| user_id (primary_key)  | user_name | user_password   | user_role    |
|------------------------|-----------|-----------------|--------------|
| Generated by some Hash | username  | hashed password | admin / user |

cards

| card_id (primary_key)  | user_id (foreign_key) | card_name            | card_bank            | card_default_color | card_transaction_id (foreign_key) |
|------------------------|-----------------------|----------------------|----------------------|--------------------|-----------------------------------|
| generated by some hash | user associated card  | user given card name | user given bank name | TBD                |                                   |

card_events

| transaction_id         | card_id (foreign key)               | total_due_input | timestamp |
|------------------------|-------------------------------------|-----------------|-----------|
| generated by some hash | card id associated with transaction |                 |           |

card_running_state

| card_id (primary_key) | last_total_due | last_delta | updated_at |
|-----------------------|----------------|------------|------------|
|                       |                |            |            |

```sql

Basic HOT scalable event


UPDATE card_running_state
SET 
last_delta = $user_input_amount - last_total_due,
last_total_due= $user_input_amount,
updated_at = now()
WHERE card_id=$user_card_id
AND $user_input_amount >= last_total_due
RETURNING last_delta;


```
